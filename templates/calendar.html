{% extends "base.html" %}
{% block content %}

<!-- Header noble -->
<div class="calendar-header fade-in">
    <div class="header-content">
        <div>
            <h1 class="calendar-title">
                <i class="fas fa-calendar-week" style="color: var(--primary-coral);"></i>
                Calendrier éditorial
            </h1>
            <p class="calendar-subtitle">Visualisez et gérez vos publications LinkedIn sur les 2 prochaines semaines</p>
        </div>
        <div class="calendar-nav">
            <button class="nav-button" onclick="navigateWeeks(-1)">
                <i class="fas fa-chevron-left"></i>
                Semaine précédente
            </button>
            <div class="week-period" id="week-period">
                <!-- Période dynamique -->
            </div>
            <button class="nav-button" onclick="navigateWeeks(1)">
                Semaine suivante
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>
</div>

<!-- Statistiques nobles -->
<div class="calendar-stats fade-in">
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-calendar-check"></i>
        </div>
        <span class="stat-number" id="total-scheduled">
            {% if scheduled_posts %}{{ scheduled_posts|length }}{% else %}0{% endif %}
        </span>
        <div class="stat-label">Posts programmés</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-clock"></i>
        </div>
        <span class="stat-number" id="this-week">0</span>
        <div class="stat-label">Cette semaine</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-calendar-day"></i>
        </div>
        <span class="stat-number" id="today-posts">0</span>
        <div class="stat-label">Aujourd'hui</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-chart-line"></i>
        </div>
        <span class="stat-number">2-3</span>
        <div class="stat-label">Fréquence/semaine</div>
    </div>
</div>

<!-- Grille de calendrier innovante -->
<div class="calendar-header-row">
    <div class="day-header-cell">Lun</div>
    <div class="day-header-cell">Mar</div>
    <div class="day-header-cell">Mer</div>
    <div class="day-header-cell">Jeu</div>
    <div class="day-header-cell">Ven</div>
    <div class="day-header-cell">Sam</div>
    <div class="day-header-cell">Dim</div>
</div>

<div class="calendar-grid slide-in" id="calendar-grid">
    <!-- Généré dynamiquement par JavaScript -->
</div>

<!-- Actions rapides nobles -->
<div class="quick-actions fade-in">
    <h3 class="actions-title">
        <i class="fas fa-lightning-bolt" style="color: var(--primary-coral);"></i>
        Actions rapides
    </h3>
    <div class="actions-grid">
        <a href="{{ url_for('dashboard') }}" class="action-button">
            <div class="action-icon">
                <i class="fas fa-plus"></i>
            </div>
            <span>Nouveau post</span>
        </a>
        
        <a href="{{ url_for('news_assistant') }}" class="action-button">
            <div class="action-icon">
                <i class="fas fa-newspaper"></i>
            </div>
            <span>Actualités tendance</span>
        </a>
        
        <a href="{{ url_for('historique') }}" class="action-button">
            <div class="action-icon">
                <i class="fas fa-history"></i>
            </div>
            <span>Mes posts</span>
        </a>
        
        <button class="action-button" onclick="generateWeeklyPlan()">
            <div class="action-icon">
                <i class="fas fa-magic"></i>
            </div>
            <span>Plan hebdomadaire IA</span>
        </button>
    </div>
</div>

<script>
// Configuration noble avec sécurité
const config = {
    currentWeekOffset: 0,
    scheduledPosts: [
        {% if scheduled_posts %}
            {% for post in scheduled_posts %}
                {
                    id: {{ post.id }},
                    content: {{ (post.content or '')|tojson }},
                    date: new Date('{{ post.scheduled_at.isoformat() }}'),
                    status: 'scheduled',
                    subject: {{ (post.subject or '')|tojson }}
                }{% if not loop.last %},{% endif %}
            {% endfor %}
        {% endif %}
    ],
    publishedPosts: [
        {% if published_posts %}
            {% for post in published_posts %}
                {
                    id: {{ post.id }},
                    content: {{ (post.content or '')|tojson }},
                    date: new Date('{{ post.published_at.isoformat() }}'),
                    status: 'published',
                    subject: {{ (post.subject or '')|tojson }}
                }{% if not loop.last %},{% endif %}
            {% endfor %}
        {% endif %}
    ]
};

// Utilitaires nobles
function getWeekStart(date, offset = 0) {
    const d = new Date(date);
    d.setDate(d.getDate() + (offset * 7));
    const day = d.getDay();
    const diff = d.getDate() - day + (day === 0 ? -6 : 1);
    return new Date(d.setDate(diff));
}

function formatDate(date) {
    return date.toLocaleDateString('fr-FR', { 
        day: '2-digit', 
        month: 'long',
        year: 'numeric'
    });
}

function isSameDay(date1, date2) {
    return date1.toDateString() === date2.toDateString();
}

function isToday(date) {
    return isSameDay(date, new Date());
}

// Génération noble du calendrier
function generateCalendar() {
    const calendarGrid = document.getElementById('calendar-grid');
    const today = new Date();
    const weekStart = getWeekStart(today, config.currentWeekOffset);
    
    // Mise à jour de la période affichée
    const weekEnd = new Date(weekStart);
    weekEnd.setDate(weekEnd.getDate() + 13); // 2 semaines
    
    const weekPeriodElement = document.getElementById('week-period');
    if (weekPeriodElement) {
        weekPeriodElement.textContent = `${formatDate(weekStart)} - ${formatDate(weekEnd)}`;
    }
    
    // Génération des 14 jours avec animation staggered
    if (calendarGrid) {
        calendarGrid.innerHTML = '';
        
        for (let i = 0; i < 14; i++) {
            const currentDate = new Date(weekStart);
            currentDate.setDate(weekStart.getDate() + i);
            
            const dayElement = createDayElement(currentDate, i);
            calendarGrid.appendChild(dayElement);
        }
    }
    
    updateStats();
}

// Création noble d'un élément jour avec animation
function createDayElement(date, index = 0) {
    const dayDiv = document.createElement('div');
    dayDiv.className = 'calendar-day';
    
    // Animation d'apparition staggered
    dayDiv.style.opacity = '0';
    dayDiv.style.transform = 'translateY(20px) scale(0.95)';
    dayDiv.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
    
    // Délai progressif pour effet staggered
    setTimeout(() => {
        dayDiv.style.opacity = '1';
        dayDiv.style.transform = 'translateY(0) scale(1)';
    }, index * 50);
    
    if (isToday(date)) {
        dayDiv.classList.add('day-today');
    }
    
    // En-tête du jour
    const headerDiv = document.createElement('div');
    headerDiv.className = 'day-header';
    
    const dayInfo = document.createElement('div');
    dayInfo.innerHTML = `
        <div class="day-number">${date.getDate()}</div>
        <div class="day-name">${date.toLocaleDateString('fr-FR', { weekday: 'short' })}</div>
    `;
    
    headerDiv.appendChild(dayInfo);
    
    // Contenu du jour
    const contentDiv = document.createElement('div');
    contentDiv.className = 'day-content';
    
    // Filtrer les posts pour ce jour (programmés + publiés)
    const dayScheduledPosts = config.scheduledPosts.filter(post => 
        isSameDay(post.date, date)
    );
    const dayPublishedPosts = config.publishedPosts.filter(post => 
        isSameDay(post.date, date)
    );
    
    // Combiner et trier par heure
    const dayPosts = [...dayScheduledPosts, ...dayPublishedPosts];
    dayPosts.sort((a, b) => a.date.getTime() - b.date.getTime());
    
    // Ajouter les posts
    dayPosts.forEach(post => {
        const postElement = createPostElement(post);
        contentDiv.appendChild(postElement);
    });
    
    // Indicateur s'il y a des posts
    if (dayPosts.length > 0) {
        const indicator = document.createElement('div');
        indicator.className = 'post-indicator';
        headerDiv.appendChild(indicator);
    }
    
    dayDiv.appendChild(headerDiv);
    dayDiv.appendChild(contentDiv);
    
    // Interaction noble pour ajouter un post
    dayDiv.addEventListener('click', (e) => {
        if (!e.target.closest('.scheduled-post')) {
            openNewPostDialog(date);
        }
    });
    
    return dayDiv;
}

// Création noble d'un élément post
function createPostElement(post) {
    const postDiv = document.createElement('div');
    
    // Classe selon le statut
    if (post.status === 'scheduled') {
        postDiv.className = 'scheduled-post';
    } else if (post.status === 'published') {
        postDiv.className = 'published-post';
    }
    
    const timeFormatted = post.date.toLocaleTimeString('fr-FR', {
        hour: '2-digit',
        minute: '2-digit'
    });
    
    const preview = post.content && post.content.length > 60 
        ? post.content.substring(0, 60) + '...'
        : post.content || 'Post sans contenu';
    
    // Icône selon le statut
    const iconClass = post.status === 'scheduled' ? 'fas fa-clock' : 'fas fa-check-circle';
    const iconColor = post.status === 'scheduled' ? '#ffc107' : '#28a745';
    
    postDiv.innerHTML = `
        <div class="post-time">
            <i class="${iconClass}" style="font-size: 0.7rem; color: ${iconColor};"></i>
            ${timeFormatted}
        </div>
        <div class="post-preview">${preview}</div>
        ${post.subject ? `<div class="post-subject">${post.subject}</div>` : ''}
    `;
    
    // Interaction noble
    postDiv.addEventListener('click', (e) => {
        e.stopPropagation();
        openPostDetails(post);
    });
    
    return postDiv;
}

// Navigation noble entre les semaines
function navigateWeeks(direction) {
    config.currentWeekOffset += direction;
    
    // Animation très smooth
    const calendarGrid = document.getElementById('calendar-grid');
    if (calendarGrid) {
        // Animation de sortie plus fluide
        calendarGrid.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
        calendarGrid.style.opacity = '0';
        calendarGrid.style.transform = `translateX(${direction * 30}px) scale(0.98)`;
        
        setTimeout(() => {
            generateCalendar();
            // Animation d'entrée plus smooth
            requestAnimationFrame(() => {
                calendarGrid.style.opacity = '1';
                calendarGrid.style.transform = 'translateX(0) scale(1)';
            });
        }, 250);
    }
}

// Mise à jour noble des statistiques
function updateStats() {
    const today = new Date();
    const weekStart = getWeekStart(today, config.currentWeekOffset);
    const weekEnd = new Date(weekStart);
    weekEnd.setDate(weekEnd.getDate() + 6);
    
    // Posts cette semaine
    const thisWeekPosts = config.scheduledPosts.filter(post => 
        post.scheduled && 
        post.publishedAt >= weekStart && 
        post.publishedAt <= weekEnd
    );
    
    // Posts aujourd'hui
    const todayPosts = config.scheduledPosts.filter(post => 
        post.scheduled && isSameDay(post.publishedAt, today)
    );
    
    // Mise à jour avec animation
    animateNumber('this-week', thisWeekPosts.length);
    animateNumber('today-posts', todayPosts.length);
}

// Animation noble des nombres
function animateNumber(elementId, targetValue) {
    const element = document.getElementById(elementId);
    if (!element) return;
    
    const currentValue = parseInt(element.textContent) || 0;
    
    if (currentValue === targetValue) return;
    
    const increment = targetValue > currentValue ? 1 : -1;
    let current = currentValue;
    
    const timer = setInterval(() => {
        current += increment;
        element.textContent = current;
        
        if (current === targetValue) {
            clearInterval(timer);
            // Effet de mise en évidence
            element.style.transform = 'scale(1.1)';
            setTimeout(() => {
                element.style.transform = 'scale(1)';
            }, 200);
        }
    }, 50);
}

// Dialogue noble pour nouveau post
function openNewPostDialog(date) {
    const formattedDate = date.toLocaleDateString('fr-FR', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
    
    // Créer un overlay noble
    const overlay = document.createElement('div');
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(139, 154, 124, 0.3);
        backdrop-filter: blur(5px);
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: all 0.3s ease;
    `;
    
    const dialog = document.createElement('div');
    dialog.style.cssText = `
        background: white;
        border-radius: 20px;
        padding: 2rem;
        max-width: 400px;
        width: 90%;
        box-shadow: var(--shadow-soft);
        border: 1px solid var(--noble-stone);
        transform: scale(0.9);
        transition: all 0.3s ease;
    `;
    
    dialog.innerHTML = `
        <h3 style="color: var(--noble-charcoal); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
            <i class="fas fa-plus-circle" style="color: var(--primary-coral);"></i>
            Nouveau post
        </h3>
        <p style="color: var(--noble-charcoal-light); margin-bottom: 1.5rem; font-size: 0.95rem;">
            Programmer un post pour le <strong>${formattedDate}</strong>
        </p>
        <div style="display: flex; gap: 1rem; justify-content: flex-end;">
            <button onclick="closeDialog()" class="btn-noble" style="background: var(--noble-warm); color: var(--noble-charcoal); border: 1px solid var(--noble-stone);">
                Annuler
            </button>
            <a href="{{ url_for('dashboard') }}" class="btn-noble btn-primary-noble">
                <i class="fas fa-pen-to-square"></i>
                Créer un post
            </a>
        </div>
    `;
    
    overlay.appendChild(dialog);
    document.body.appendChild(overlay);
    
    // Animation d'entrée
    requestAnimationFrame(() => {
        overlay.style.opacity = '1';
        dialog.style.transform = 'scale(1)';
    });
    
    // Fermeture au clic sur l'overlay
    overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
            closeDialog();
        }
    });
    
    // Fonction globale de fermeture
    window.closeDialog = () => {
        overlay.style.opacity = '0';
        dialog.style.transform = 'scale(0.9)';
        setTimeout(() => {
            if (overlay.parentNode) {
                document.body.removeChild(overlay);
            }
            delete window.closeDialog;
        }, 300);
    };
}

// Détails noble d'un post
function openPostDetails(post) {
    const formattedDate = post.publishedAt.toLocaleDateString('fr-FR', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
    
    const formattedTime = post.publishedAt.toLocaleTimeString('fr-FR', {
        hour: '2-digit',
        minute: '2-digit'
    });
    
    // Créer un overlay noble
    const overlay = document.createElement('div');
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(139, 154, 124, 0.3);
        backdrop-filter: blur(5px);
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: all 0.3s ease;
    `;
    
    const dialog = document.createElement('div');
    dialog.style.cssText = `
        background: white;
        border-radius: 20px;
        padding: 2.5rem;
        max-width: 600px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: var(--shadow-soft);
        border: 1px solid var(--noble-stone);
        transform: scale(0.9);
        transition: all 0.3s ease;
    `;
    
    dialog.innerHTML = `
        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1.5rem;">
            <h3 style="color: var(--noble-charcoal); margin: 0; display: flex; align-items: center; gap: 0.75rem;">
                <i class="fas fa-calendar-check" style="color: var(--primary-coral);"></i>
                Post programmé
            </h3>
            <button onclick="closePostDialog()" style="background: none; border: none; color: var(--noble-charcoal-light); font-size: 1.2rem; cursor: pointer; padding: 0.25rem; transition: color 0.3s ease;">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div style="background: linear-gradient(135deg, rgba(255, 107, 107, 0.05) 0%, rgba(255, 142, 83, 0.03) 100%); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; border-left: 4px solid var(--primary-coral); box-shadow: var(--shadow-whisper);">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                <div style="background: var(--primary-coral); color: white; padding: 0.5rem 1rem; border-radius: 8px; font-weight: 500; font-size: 0.9rem; box-shadow: 0 2px 8px rgba(255, 107, 107, 0.2);">
                    <i class="fas fa-clock"></i>
                    ${formattedTime}
                </div>
                <div style="color: var(--noble-charcoal-light); font-size: 0.9rem;">
                    ${formattedDate}
                </div>
            </div>
            <div style="color: var(--noble-charcoal); line-height: 1.6; font-size: 0.95rem;">
                ${post.content || 'Contenu non disponible'}
            </div>
        </div>
        
        <div style="display: flex; gap: 1rem; justify-content: flex-end; flex-wrap: wrap;">
            <a href="/edit_post/${post.id}" class="btn-noble" style="background: var(--primary-coral); color: white; border: none; box-shadow: 0 2px 8px rgba(255, 107, 107, 0.2); transition: all 0.3s ease;">
                <i class="fas fa-edit"></i>
                Modifier
            </a>
            <a href="/delete_post/${post.id}" class="btn-noble" style="background: #f87171; color: white; border: none; box-shadow: 0 2px 8px rgba(248, 113, 113, 0.2); transition: all 0.3s ease;">
                <i class="fas fa-trash"></i>
                Supprimer
            </a>
            <button onclick="closePostDialog()" class="btn-noble" style="background: var(--white); color: var(--noble-charcoal); border: 1px solid var(--gray-lighter); transition: all 0.3s ease;">
                Fermer
            </button>
        </div>
    `;
    
    overlay.appendChild(dialog);
    document.body.appendChild(overlay);
    
    // Animation d'entrée
    requestAnimationFrame(() => {
        overlay.style.opacity = '1';
        dialog.style.transform = 'scale(1)';
    });
    
    // Fermeture au clic sur l'overlay
    overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
            closePostDialog();
        }
    });
    
    // Fonction globale de fermeture
    window.closePostDialog = () => {
        overlay.style.opacity = '0';
        dialog.style.transform = 'scale(0.9)';
        setTimeout(() => {
            if (overlay.parentNode) {
                document.body.removeChild(overlay);
            }
            delete window.closePostDialog;
        }, 300);
    };
}

// Plan hebdomadaire IA noble
function generateWeeklyPlan() {
    // Créer une notification noble
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 2rem;
        right: 2rem;
        background: linear-gradient(135deg, var(--primary-coral) 0%, rgba(255, 107, 107, 0.8) 100%);
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 12px;
        box-shadow: var(--shadow-gentle);
        z-index: 1001;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        opacity: 0;
        transform: translateX(100%);
        transition: all 0.3s ease;
    `;
    
    notification.innerHTML = `
        <i class="fas fa-magic"></i>
        <span>Fonctionnalité en développement...</span>
    `;
    
    document.body.appendChild(notification);
    
    // Animation d'entrée
    requestAnimationFrame(() => {
        notification.style.opacity = '1';
        notification.style.transform = 'translateX(0)';
    });
    
    // Auto-suppression
    setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => {
            if (notification.parentNode) {
                document.body.removeChild(notification);
            }
        }, 300);
    }, 3000);
}

// Initialisation noble
document.addEventListener('DOMContentLoaded', function() {
    // Génération initiale du calendrier
    generateCalendar();
    
    // Animations progressives des éléments
    const elements = document.querySelectorAll('.fade-in, .slide-in');
    elements.forEach((el, index) => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'all 0.8s ease';
        
        setTimeout(() => {
            el.style.opacity = '1';
            el.style.transform = 'translateY(0)';
        }, index * 200);
    });
    
    // Animation des cartes statistiques
    document.querySelectorAll('.stat-card').forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px) scale(0.95)';
        card.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
        
        setTimeout(() => {
            card.style.opacity = '1';
            card.style.transform = 'translateY(0) scale(1)';
        }, index * 150);
    });
    
    // Interactions nobles sur les boutons
    document.querySelectorAll('.btn-noble, .nav-button, .action-button').forEach(btn => {
        btn.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-1px)';
        });
        
        btn.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
        
        btn.addEventListener('mousedown', function() {
            this.style.transform = 'translateY(0) scale(0.98)';
        });
        
        btn.addEventListener('mouseup', function() {
            this.style.transform = 'translateY(-1px) scale(1)';
        });
    });
    
    // Animation des cartes de statistiques au hover
    document.querySelectorAll('.stat-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            const icon = this.querySelector('.stat-icon');
            if (icon) {
                icon.style.transform = 'scale(1.15) rotate(15deg)';
            }
        });
        
        card.addEventListener('mouseleave', function() {
            const icon = this.querySelector('.stat-icon');
            if (icon) {
                icon.style.transform = 'scale(1) rotate(0deg)';
            }
        });
    });
    
    // Gestion noble du responsive
    function handleResponsive() {
        const isMobile = window.innerWidth <= 768;
        const calendarGrid = document.getElementById('calendar-grid');
        
        if (calendarGrid && isMobile) {
            calendarGrid.style.fontSize = '0.8rem';
        }
    }
    
    window.addEventListener('resize', handleResponsive);
    handleResponsive();
    
    // Rafraîchissement automatique des données
    setInterval(() => {
        updateStats();
    }, 60000); // Toutes les minutes
    
    // Gestion noble des raccourcis clavier
    document.addEventListener('keydown', function(e) {
        // Flèche gauche : semaine précédente
        if (e.key === 'ArrowLeft' && !e.target.matches('input, textarea')) {
            e.preventDefault();
            navigateWeeks(-1);
        }
        
        // Flèche droite : semaine suivante
        if (e.key === 'ArrowRight' && !e.target.matches('input, textarea')) {
            e.preventDefault();
            navigateWeeks(1);
        }
        
        // Echap : fermer les dialogues
        if (e.key === 'Escape') {
            if (window.closeDialog) window.closeDialog();
            if (window.closePostDialog) window.closePostDialog();
        }
        
        // N : nouveau post
        if (e.key.toLowerCase() === 'n' && !e.target.matches('input, textarea')) {
            window.location.href = '/dashboard';
        }
    });
});
</script>

<style>
/* Styles pour les posts dans le calendrier */
.scheduled-post {
    background: linear-gradient(135deg, #fff3cd, #ffeaa7);
    border: 1px solid #ffc107;
    border-radius: 8px;
    padding: 0.5rem;
    margin: 0.25rem 0;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.8rem;
}

.scheduled-post:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 193, 7, 0.3);
}

.published-post {
    background: linear-gradient(135deg, #d4edda, #a8e6cf);
    border: 1px solid #28a745;
    border-radius: 8px;
    padding: 0.5rem;
    margin: 0.25rem 0;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.8rem;
}

.published-post:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
}

.post-time {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-weight: 600;
    color: #495057;
    margin-bottom: 0.25rem;
}

.post-preview {
    color: #6c757d;
    line-height: 1.3;
    margin-bottom: 0.25rem;
}

.post-subject {
    font-size: 0.7rem;
    color: #8b5cf6;
    font-weight: 600;
    background: rgba(139, 92, 246, 0.1);
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    display: inline-block;
}
</style>

{% endblock %}
